{% extends "registration/base.html" %}
{% load static i18n jazzmin %}
{% block extrahead %}
    <link rel="stylesheet" href="{% static 'css/my-style.css' %}">
{% endblock extrahead %}
{% block content %}
    <div class=" login-box">
        <div class="login-logo text-center my-8 ">
            {% get_jazzmin_settings request as jazzmin_settings %}
            <a href="{% url 'admin:index' %}">
                <picture>
                    <source srcset="{% static jazzmin_settings.login_logo_dark %}"
                            media="(prefers-color-scheme: dark)">
                    <img src="{% static 'images/logo2.png' %}"
                         alt="{{ jazzmin_settings.site_header }}"
                         class="mx-auto h-20 w-auto">
                </picture>
            </a>
        </div>
        <div class="card ">
            <div class=" card-body login-card-body">
                <p class="login-box-msg font-bold text-black">{{ jazzmin_settings.welcome_sign }}</p>
                <form action="{{ app_path }}" method="post">
                    {% csrf_token %}
                    {% if form.errors %}
                        {% if form.non_field_errors %}
                            {% for error in form.non_field_errors %}
                                <div class="callout callout-danger">
                                    <p>{{ error }}</p>
                                </div>
                            {% endfor %}
                        {% endif %}
                    {% endif %}
                    <div class="input-group mb-3">
                        <input type="text"
                               name="username"
                               class="form-control"
                               placeholder="{{ form.username.label }}"
                               required>
                        <div class="input-group-append">
                            <div class="input-group-text">
                                <span class="fas fa-user"></span>
                            </div>
                        </div>
                    </div>
                    <div class="input-group mb-3">
                        <input type="password"
                               name="password"
                               class="form-control"
                               placeholder="{{ form.password.label }}"
                               required>
                        <div class="input-group-append">
                            <div class="input-group-text">
                                <span class="fas fa-lock"></span>
                            </div>
                        </div>
                    </div>
                    {% url 'admin_password_reset' as password_reset_url %}
                    {% if password_reset_url %}
                        <p class="mb-3">
                            <a href="{{ password_reset_url }}">{% trans 'Forgotten your password or username?' %}</a>
                        </p>
                    {% endif %}
                    <div class="row">
                        <div class="col-12">
                            <button type="submit"
                                    class="btn {{ jazzmin_ui.button_classes.primary }} btn-block">
                                {% trans "Log in" %}
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock content %}
